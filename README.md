# Windows で機械語！

## このソフトは？

手軽に機械語を味わうためのソフトウェアです。  
現在アルファ版です。未実装の機能、不具合も多数ありますが、一旦公開しています。  
現状、6502 エミュレーションを通して機械語プログラムを実行する作りになっています。  
(元々は ARM7TDMI も追加する構想でしたが、断念中。。。)

## ■ 仮想マシン機能 仕様

### 出力

| 項目 | 内容 |
|-|-|
| 画面 サイズ | 256 x 192 |
| 画面 色数| 8bit (256 色) |
| スプライト 定義枚数 | 256 枚 |
| スプライト 表示枚数 | 64 枚 |
| スプライト 要素 (4-8 bytes) | 画像ID, X座標, Y座標 |


### メモリマップ

| アドレス | 内容 |
|-|-|
| 0x0000 | 空き |
| 0x1000 | 空き |
| 0x2000 | VRAM |
| 0x3000 | VRAM |
| 0x4000 | VRAM |
| 0x5000 | VRAM |
| 0x6000 | VRAM |
| 0x7000 | VRAM |
| 0x8000 | VRAM |
| 0x9000 | VRAM |
| 0xA000 | VRAM |
| 0xB000 | VRAM |
| 0xC000 | VRAM |
| 0xD000 | VRAM |
| 0xE000 | スプライト(0x400), パレット(0x400) |
| 0xF000 | (予約) |

### メモリマップ (詳細)

| アドレス | 内容 | 各バイトの意味 | 説明
|-|-|-|-|
| 0x0000 - 0x00FF | (空き) | - | ユーザーが自由に使える領域です。 |
| 0x0100 - 0x01FF | 6502 スタック領域 | - | CPU がスタックとして使用する領域です。 |
| 0x0200 - 0x1FFF | (空き) | - | ユーザーが自由に使える領域です。 |
| 0x2000 - 0xDFFF | VRAM | 色 id | 画面描画の元となるメモリ領域です。色 id を指定すると、そのアドレスに対応した画素の色が変わります。色 id は 0x00 - 0xFF の指定が出来ます。色 id が参照する色そのものはパレット領域を書き換えることで設定できます。 |
| 0xE000 - 0xE3FF | スプライト | 1バイト目 : 画像id<br>2バイト目 : (未使用)<br>3バイト目 : X座標<br>4バイト目 : Y座標 | スプライトの画像を指定できます。また、スプライトを動かすこともできます。1要素は4バイトで構成されます。計 256 要素あります。画像id は 0x00 - 0x0F の範囲しか指定できません。 |
| 0xE400 - 0xE7FF | パレット | 1バイト目 : 赤<br>2バイト目 : 緑<br>3バイト目 : 青<br>4バイト目 : (未使用)| 色 id で参照される色を変更できます。<br>1要素は4バイトで構成されます。計 256 要素あります。 |
| 0xE800 - 0xEFFF | (予約) | - | 現状は未使用です。ただし、ユーザーが使用することは想定されていません。|
| 0xF000 - 0xFFF9 | (予約) | - | 現状は未使用です。ただし、ユーザーが使用することは想定されていません。|
| 0xFFFA - 0xFFFF | 6502 割り込みベクタ | 1-2バイト目: NMI<br> 3-4バイト目: RESET<br>5-6バイト目: IRQ/BRK | 6502 が参照する領域です。(ただし、未実装なので現状は未使用です。) |

## ■ 制限事項

+ 下記は実装されません
  - クロック単位でのエミュレーション
  - デシマルモード
  - 未定義命令
